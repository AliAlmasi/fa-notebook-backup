---
title: "جستجوی ایمن گوگل را دور بزنید."
seoTitle: "جستجوی ایمن گوگل را دور بزنید"
seoDescription: "دولت ایران تغییراتی در سرورهای دی‌ان‌اس ملی ایجاد کرده است که باعث می‌شود تمام درخواست‌های کاربران گوگل به گوگل با جستجوی اجباری ایمن ارسال شود"
datePublished: Sat May 11 2024 21:28:02 GMT+0000 (Coordinated Universal Time)
cuid: clw2mb3h3000709mifu5j9un0
slug: unforce-safesearch
cover: https://cdn.hashnode.com/res/hashnode/image/upload/v1715462821673/7b1358b2-63aa-4a0d-b423-e668141960b2.jpeg
tags: dns, google, networking, iran, bing, persian

---

اخیراً دولت ایران [تغییراتی در سرورهای دی‌ان‌اس ملی ایجاد کرده است](https://digiato.com/article/2022/07/12/safesearch-internet-mobile) که باعث می‌شود تمام درخواست‌های دی‌ان‌اس برای گوگل به دامنه ارسال شود. `forcesafesearch.google.com`(به IP `216.239.38.120`) که همه کاربران گوگل را بدون توجه به تنظیمات شخصی‌شان مجبور می کند از گوگل با جستجوی ایمن روشن استفاده کنند.

## به روز رسانی - BING (مایکروسافت بینگ) نیز مسموم است:

[پیام این کاربر](https://github.com/AliAlmasi/unforce-safesearch/issues/1) نشان می دهد که نه تنها گوگل، بلکه بینگ نیز به اجبار در جستجوی ایمن برای کاربران ایرانی قرار گرفته است. بنابراین کدهای لازم برای دور زدن محدودیت اعمال شده روی Bing را در داخل این متن قرار می دهیم. اگر تنظیمات مربوط به گوگل را در گذشته انجام داده اید، فقط می توانید قسمت مربوط به Bing را در آن قرار دهید فایل `resolv.conf` در لینوکس و مک و یا فایل `hosts` در ویندوز.

در صورت مشاهده مشکلات مشابه در رابطه با اجباری کردن جستجوی ایمن برای کاربران ایرانی در سایر موتورهای جستجو، می توانید مسئله را در بخش Issues [این مخزن](https://github.com/alialmasi/unforce-safesearch) ثبت کنید تا در این راهنما قرار گیرد. مشارکت شما ممکن است به بسیاری از افراد پشت فیلتر ایران کمک کند.

## چگونه می توان این را دور زد؟

برای دور زدن این مشکل، باید به صورت دستی سرورهای جستجوی معمولی گوگل را به سیستم معرفی کنیم ( `google.com`\- `142.250.180.142`) برای این کار لازم است از `hosts` فایل موجود در سیستم عامل ها برای معرفی مستقیم آی پی به سیستم استفاده کنیم تا سیستم، جستجوی ایمن گوگل را از سرور [دی‌ان‌اس مسموم](https://fa.wikipedia.org/wiki/%D8%AC%D8%B9%D9%84_%D8%B3%D8%A7%D9%85%D8%A7%D9%86%D9%87_%D9%86%D8%A7%D9%85_%D8%AF%D8%A7%D9%85%D9%86%D9%87) کشور را درخواست نکند.

> توجه: این راه حل فقط در ویندوز، macOS و لینوکس کار می کند.

## برای کاربران ویندوز

در ویندوز، باید پنجره Run ( *WinKey + R* ) را باز کنید و این را به عنوان مدیر تایپ کنید:

> نکته: کلید *WinKey* همان کلید ویندوز (روی صفحه کلید با علامت ویندوز) است.

```plaintext
notepad C:\Windows\System32\Drivers\etc\hosts
```

این باز می شود `hosts`فایل ویندوز شما بر روی Notepad

بعد، باید این خطوط را در انتهای فایل اضافه کنید:

```plaintext
142.250.180.142 google.com
142.250.180.142 www.google.com
13.107.21.200 bing.com
13.107.21.200 www.bing.com
```

سپس فایل را ذخیره کنید، cmd را باز کنید و کش DNS را با اجرا پاک کنید

```plaintext
ipconfig /flushdns
```

اکنون همه چیز تمام شده است. بررسی کنید که آیا کار می کند [با باز کردن google.com](https://google.com) یا اجرا، `nslookup google.com`در cmd و ببینید چه IP را برمی گرداند.

## برای کاربران macOS

ترمینال را باز کنید و این را اجرا کنید:

```plaintext
sudo nano /private/etc/hosts
```

از آنجایی که ما از sudo برای ویرایش فایل هاست استفاده می کنیم، از شما خواسته می شود رمز عبور مدیر حساب کاربری macOS خود را وارد کنید. رمز عبور مدیریت خود را تایپ کنید و کلید Enter را بزنید.

> توجه: مکان نما (Mouse Cursor) در خط فرمان کار نمی کند. برای پیمایش بین خطوط داخل فایل میزبان، باید از کلیدهای جهت دار استفاده کنید.

این خطوط را در انتهای فایل قرار دهید:

```plaintext
142.250.180.142 google.com
142.250.180.142 www.google.com
13.107.21.200 bing.com
13.107.21.200 www.bing.com
```

پس از آن، *CTRL + X را* روی صفحه کلید خود فشار دهید. Y را وارد کنید تا تغییرات ذخیره شود و دکمه Enter را بزنید.

سپس، باید کش DNS را پاک کنید. برای انجام این کار، اگر از macOS Monterey یا Big Sur استفاده می کنید، این را اجرا کنید:

```plaintext
sudo dscacheutil -flushcache; sudo killall -HUP mDNSResponder
```

در غیر این صورت، اگر از macOS Catalina، Mojave، High Sierra، Sierra، Mountain Lion یا Lion استفاده می کنید، این را اجرا کنید:

```plaintext
sudo killall -HUP mDNSResponder
```

اکنون همه چیز تمام شده است. بررسی کنید که آیا کار می کند [با باز کردن google.com](https://google.com) یا اجرا، `nslookup google.com`در ترمینال خود و ببینید چه IP را برمی گرداند.

## برای کاربران لینوکس

ترمینال را باز کنید و این را اجرا کنید:

```plaintext
sudo nano /etc/hosts
```

پس از درخواست، رمز عبور sudo را وارد کنید.

این خطوط را در انتهای فایل قرار دهید:

```plaintext
142.250.180.142 google.com
142.250.180.142 www.google.com
13.107.21.200 bing.com
13.107.21.200 www.bing.com
```

پس از آن، *CTRL + X را* روی صفحه کلید خود فشار دهید. Y را وارد کنید تا تغییرات ذخیره شود و دکمه Enter را بزنید.

سپس، برای شستشوی کش DNS در لینوکس، اگر از آن استفاده می کنید `systemd-resolved`، می توانید از دستور زیر استفاده کنید `--flush-caches`.  
به طور متناوب، می توانید از `resolvectl`فرمان به دنبال آن `flush-caches`گزینه.

```plaintext
sudo systemd-resolve --flush-caches
sudo resolvectl flush-caches
```

می توانید *با اجرای این دستور nscd را مجددا راه اندازی کنید:* همچنین اگر از آن استفاده می کنید،

```plaintext
sudo /etc/init.d/nscd restart
```

اکنون همه چیز تمام شده است. بررسی کنید که آیا کار می کند [با باز کردن google.com](https://google.com) یا اجرا، `nslookup google.com`در ترمینال خود و ببینید چه IP را برمی گرداند.